{% extends '@Forumify/components/list.html.twig' %}
{% block container %}
    <div class="messenger">
        <div class="thread-list {% if this.selectedThread is not null %}thread-selected{% endif %}">
            {{ parent() }}
        </div>
        <div class="thread {% if this.selectedThread is not null %}thread-selected{% endif %}">
            {% if this.selectedThread is not null %}
                {% include '@Forumify/frontend/components/messenger/thread.html.twig' with { thread: this.selectedThread } %}
            {% else %}
                <div class="no-thread-selected">
                    {{ 'select_message_thread'|trans }}
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}
{% block pagination_top %}
    <div class="card-title flex justify-between items-center">
        <span>{{ 'messenger.inbox'|trans }}</span>
        <a
            class="btn-primary btn-icon"
            aria-label="{{ 'messenger.new_message'|trans }}"
            href="{{ path('forumify_forum_messenger_thread_create') }}"
        >
            <i class="ph ph-paper-plane-tilt"></i>
        </a>
    </div>
    {{ parent() }}
{% endblock %}
{% block row %}
    <a
        class="btn-link thread-row {% if this.selectedThread is not null and this.selectedThread.id == item.id %}thread-active{% endif %}"
        data-action="live#action"
        data-live-action-param="setSelectedThread"
        data-live-thread-id-param="{{ item.id }}"
    >
        <div class="thread-row-inner">
            {% include '@Forumify/frontend/components/messenger/thread_title.html.twig' with { thread: item } only %}
        </div>
    </a>
{% endblock %}
{% block empty %}
    <span class="p-4">{{ 'no_messages'|trans }}</span>
{% endblock %}
